<template>
    <div class="inner_box_main">
        <div class="box-inner range_div">
            <div class="head_div">
                <p class="display-3 mb-0 text-white">For Small Business</p>
            </div>
            <div class="content_inner_div">
                <div class="row">
                    <div class="col-6">
                        <div class="box-gray">
                            <div class="width-max-content m-auto">
                                <p class="small-text mb-0 text-blue"><small>Up to</small></p>
                                <h3 class="h2 text-blue mb-0 text-capitalize"><span v-if="form.upto != 'unlimited'">$</span>{{form.upto}}</h3>
                                <p class="mb-0">Extra Sales</p>
                            </div>
                        </div>
                        <div class="arrow_div text-center">
                            <svg width="16" height="33" viewBox="0 0 16 33" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15.3659 23.2397C15.7596 23.4626 16.0196 23.9103 15.9988 24.3643C15.9995 24.6926 15.8425 25.0041 15.6152 25.2351C13.4289 27.4233 11.2577 29.6271 9.06705 31.8103C8.89187 31.9786 8.66332 32.0715 8.43666 32.1475L7.99086 32.1475C7.7642 32.0702 7.53439 31.9792 7.35921 31.8097C5.16791 29.6271 2.99796 27.4227 0.811052 25.2351C0.583759 25.0041 0.428045 24.6926 0.428673 24.3643C0.404814 23.8783 0.704942 23.4017 1.14257 23.197C1.60155 22.9766 2.19365 23.0645 2.5553 23.4281C3.42429 24.2958 4.28888 25.1686 5.15535 26.0382C5.75875 26.6309 6.33137 27.255 6.95172 27.8295C6.96679 18.9701 6.95046 10.1108 6.95926 1.25136C6.94419 0.647972 7.42012 0.134994 7.99024 -3.50118e-07L8.43603 -3.30632e-07C9.00614 0.134994 9.48333 0.647344 9.46701 1.25136C9.47517 10.1108 9.45947 18.9701 9.47517 27.8295C9.75834 27.5878 10.0026 27.3059 10.2713 27.0491C11.3707 25.9296 12.484 24.8239 13.5884 23.7094C13.714 23.5838 13.8345 23.4526 13.9727 23.3408C14.3588 23.0281 14.9384 22.993 15.3659 23.2397Z" fill="#5590F5"/>
                            </svg>
                        </div>
                        <div class="box-gray d-flex">
                            <div class="width-max-content m-auto text-center">
                                <h3 class="h2 mb-0">{{form.name.replace('/month', '')}}</h3>
                                <p class="mb-0">Per Month + <span class="text-blue">SMS Costs</span></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 position-relative">
                        <div class="range_div_inner">
                            <div class="range-slider">
                                <input type="range" orient="vertical" :min="min_range" :max="max_range" class="range-slider-input" v-model="plan"/>
                                <div class="range-slider__bar"></div>
                                <div class="range-slider__thumb"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row m-0 row_div">
                    <div class="col-4 row_box_div text-center">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14.7369 0H15.2625C17.5277 0.0474609 19.7848 0.594727 21.8027 1.62891C24.8074 3.15059 27.2672 5.71816 28.6559 8.7873C29.5084 10.6506 29.9561 12.6902 30 14.7375V15.2625C29.9525 17.5564 29.3912 19.841 28.3324 21.8789C27.3393 23.8072 25.9178 25.5117 24.2062 26.8436C22.5064 28.1695 20.5154 29.1199 18.4148 29.6068C17.3818 29.8523 16.3219 29.9689 15.2619 30H14.5635C13.3219 29.9426 12.0814 29.7744 10.8861 29.4258C7.90664 28.5891 5.21484 26.7867 3.28594 24.3703C2.01387 22.7848 1.06992 20.9373 0.535547 18.9762C0.198047 17.7674 0.0345703 16.5152 0 15.2625V14.7375C0.046875 12.4998 0.58125 10.2709 1.59082 8.27168C2.90859 5.63906 5.02266 3.41191 7.58379 1.95996C9.75293 0.716016 12.2396 0.0503906 14.7369 0ZM14.032 2.38301C11.5898 2.56348 9.19746 3.46934 7.27266 4.9875C6.11074 5.86992 5.12637 6.97441 4.32832 8.19375C3.04336 10.1941 2.35195 12.5643 2.34551 14.9414C2.33262 17.1709 2.91797 19.4021 4.03887 21.3311C4.9541 22.8932 6.19629 24.2666 7.6752 25.3131C10.2176 27.1594 13.4795 27.9545 16.5902 27.5537C18.8279 27.2777 20.9924 26.3883 22.7607 24.9873C24.8877 23.3408 26.4779 21.0018 27.1916 18.4049C28.0072 15.4887 27.7383 12.2812 26.4258 9.55078C25.4947 7.6043 24.0527 5.90625 22.2914 4.66172C19.9225 2.95723 16.9371 2.15391 14.032 2.38301Z" fill="#5590F5"/>
                            <path d="M19.9427 10.2731C20.1812 10.0306 20.5175 9.87646 20.8621 9.90283C21.4058 9.91806 21.8916 10.3692 21.9601 10.9065C22.0158 11.2815 21.8687 11.6677 21.598 11.929C19.099 14.4304 16.5976 16.9288 14.098 19.4302C13.9304 19.5936 13.7746 19.7735 13.5806 19.9071C13.198 20.1673 12.6543 20.1638 12.2787 19.8913C12.0994 19.7601 11.9511 19.5919 11.7929 19.4372C10.6703 18.3134 9.54703 17.1901 8.42379 16.0675C8.26266 15.9069 8.12496 15.7147 8.06813 15.4921C7.95035 15.0667 8.09977 14.5827 8.43902 14.3003C8.77945 13.9997 9.30328 13.9335 9.70875 14.138C9.9607 14.2628 10.1464 14.4813 10.3439 14.6753C11.2099 15.5407 12.0724 16.4102 12.942 17.2716C15.2769 14.9407 17.6084 12.6052 19.9427 10.2731Z" fill="#5590F5"/>
                        </svg>
                        <p class="mb-0">All Features</p>
                    </div>
                    <div class="col-4 row_box_div text-center">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14.7369 0H15.2625C17.5277 0.0474609 19.7848 0.594727 21.8027 1.62891C24.8074 3.15059 27.2672 5.71816 28.6559 8.7873C29.5084 10.6506 29.9561 12.6902 30 14.7375V15.2625C29.9525 17.5564 29.3912 19.841 28.3324 21.8789C27.3393 23.8072 25.9178 25.5117 24.2062 26.8436C22.5064 28.1695 20.5154 29.1199 18.4148 29.6068C17.3818 29.8523 16.3219 29.9689 15.2619 30H14.5635C13.3219 29.9426 12.0814 29.7744 10.8861 29.4258C7.90664 28.5891 5.21484 26.7867 3.28594 24.3703C2.01387 22.7848 1.06992 20.9373 0.535547 18.9762C0.198047 17.7674 0.0345703 16.5152 0 15.2625V14.7375C0.046875 12.4998 0.58125 10.2709 1.59082 8.27168C2.90859 5.63906 5.02266 3.41191 7.58379 1.95996C9.75293 0.716016 12.2396 0.0503906 14.7369 0ZM14.032 2.38301C11.5898 2.56348 9.19746 3.46934 7.27266 4.9875C6.11074 5.86992 5.12637 6.97441 4.32832 8.19375C3.04336 10.1941 2.35195 12.5643 2.34551 14.9414C2.33262 17.1709 2.91797 19.4021 4.03887 21.3311C4.9541 22.8932 6.19629 24.2666 7.6752 25.3131C10.2176 27.1594 13.4795 27.9545 16.5902 27.5537C18.8279 27.2777 20.9924 26.3883 22.7607 24.9873C24.8877 23.3408 26.4779 21.0018 27.1916 18.4049C28.0072 15.4887 27.7383 12.2812 26.4258 9.55078C25.4947 7.6043 24.0527 5.90625 22.2914 4.66172C19.9225 2.95723 16.9371 2.15391 14.032 2.38301Z" fill="#5590F5"/>
                            <path d="M19.9427 10.2731C20.1812 10.0306 20.5175 9.87646 20.8621 9.90283C21.4058 9.91806 21.8916 10.3692 21.9601 10.9065C22.0158 11.2815 21.8687 11.6677 21.598 11.929C19.099 14.4304 16.5976 16.9288 14.098 19.4302C13.9304 19.5936 13.7746 19.7735 13.5806 19.9071C13.198 20.1673 12.6543 20.1638 12.2787 19.8913C12.0994 19.7601 11.9511 19.5919 11.7929 19.4372C10.6703 18.3134 9.54703 17.1901 8.42379 16.0675C8.26266 15.9069 8.12496 15.7147 8.06813 15.4921C7.95035 15.0667 8.09977 14.5827 8.43902 14.3003C8.77945 13.9997 9.30328 13.9335 9.70875 14.138C9.9607 14.2628 10.1464 14.4813 10.3439 14.6753C11.2099 15.5407 12.0724 16.4102 12.942 17.2716C15.2769 14.9407 17.6084 12.6052 19.9427 10.2731Z" fill="#5590F5"/>
                        </svg>
                        <p class="mb-0">Unlimited <br> Subscribers</p>
                    </div>
                    <div class="col-4 row_box_div text-center">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14.7369 0H15.2625C17.5277 0.0474609 19.7848 0.594727 21.8027 1.62891C24.8074 3.15059 27.2672 5.71816 28.6559 8.7873C29.5084 10.6506 29.9561 12.6902 30 14.7375V15.2625C29.9525 17.5564 29.3912 19.841 28.3324 21.8789C27.3393 23.8072 25.9178 25.5117 24.2062 26.8436C22.5064 28.1695 20.5154 29.1199 18.4148 29.6068C17.3818 29.8523 16.3219 29.9689 15.2619 30H14.5635C13.3219 29.9426 12.0814 29.7744 10.8861 29.4258C7.90664 28.5891 5.21484 26.7867 3.28594 24.3703C2.01387 22.7848 1.06992 20.9373 0.535547 18.9762C0.198047 17.7674 0.0345703 16.5152 0 15.2625V14.7375C0.046875 12.4998 0.58125 10.2709 1.59082 8.27168C2.90859 5.63906 5.02266 3.41191 7.58379 1.95996C9.75293 0.716016 12.2396 0.0503906 14.7369 0ZM14.032 2.38301C11.5898 2.56348 9.19746 3.46934 7.27266 4.9875C6.11074 5.86992 5.12637 6.97441 4.32832 8.19375C3.04336 10.1941 2.35195 12.5643 2.34551 14.9414C2.33262 17.1709 2.91797 19.4021 4.03887 21.3311C4.9541 22.8932 6.19629 24.2666 7.6752 25.3131C10.2176 27.1594 13.4795 27.9545 16.5902 27.5537C18.8279 27.2777 20.9924 26.3883 22.7607 24.9873C24.8877 23.3408 26.4779 21.0018 27.1916 18.4049C28.0072 15.4887 27.7383 12.2812 26.4258 9.55078C25.4947 7.6043 24.0527 5.90625 22.2914 4.66172C19.9225 2.95723 16.9371 2.15391 14.032 2.38301Z" fill="#5590F5"/>
                            <path d="M19.9427 10.2731C20.1812 10.0306 20.5175 9.87646 20.8621 9.90283C21.4058 9.91806 21.8916 10.3692 21.9601 10.9065C22.0158 11.2815 21.8687 11.6677 21.598 11.929C19.099 14.4304 16.5976 16.9288 14.098 19.4302C13.9304 19.5936 13.7746 19.7735 13.5806 19.9071C13.198 20.1673 12.6543 20.1638 12.2787 19.8913C12.0994 19.7601 11.9511 19.5919 11.7929 19.4372C10.6703 18.3134 9.54703 17.1901 8.42379 16.0675C8.26266 15.9069 8.12496 15.7147 8.06813 15.4921C7.95035 15.0667 8.09977 14.5827 8.43902 14.3003C8.77945 13.9997 9.30328 13.9335 9.70875 14.138C9.9607 14.2628 10.1464 14.4813 10.3439 14.6753C11.2099 15.5407 12.0724 16.4102 12.942 17.2716C15.2769 14.9407 17.6084 12.6052 19.9427 10.2731Z" fill="#5590F5"/>
                        </svg>
                        <p class="mb-0">24/7 live <br> support</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-inner growing_div">
            <div class="head_div">
                <p class="display-3 mb-0 text-white">For Growing Business</p>
            </div>
            <div class="content_inner_div">
                <p>Enjoy advanced automations & analytics with a product that imporoves constantly.</p>
                <ul class="ul_inner pl-0 mb-0">
                    <li>Abandoned cart recovery</li>
                    <li>Advanced segmentation</li>
                    <li>A/B testing</li>
                    <li>Other updates</li>
                    <li>Birthday messages</li>
                    <li>All Features and Unlimited Subscribers</li>
                    <li>10X ROI Guarantee</li>
                    <li>Browse adandonment</li>
                    <li>Mass campaigns</li>
                    <li>Back in stock</li>
                </ul>
            </div>
        </div>
    </div>
</template>

<script>
import instance from "../../../axios";
import VueSlider from 'vue-slider-component';
import 'vue-slider-component/theme/default.css'

export default {
    name: "PricingTable.vue",
    props: ['plans'],
    components: {
        VueSlider
    },
    data(){
        return{
            min_range: 0,
            max_range: this.plans.length,
            plan: 1,
            form: {
                id: 1,
                name: 'Free',
                price: 0,
                upto: 100
            },
            rangeArr: [0,100,200,500,1000,2000,5000,10000,20000,50000],
            shop: '',
        }
    },
    methods: {
        initPlanSliderJs(){
            let base = this;
            const inputs = [].slice.call(document.querySelectorAll('.range-slider-input'));
            inputs.forEach((input) => input.setAttribute('value', 0));
            inputs.forEach(input => base.updateSlider(input));
// Cross-browser support where value changes instantly as you drag the handle, therefore two event types.
            inputs.forEach(input => input.addEventListener('input', element => base.updateSlider(input)));
            inputs.forEach(input => input.addEventListener('change', element => base.updateSlider(input)));
        },
        updateSlider(element) {
            let base = this;
            if (element) {
                let parent = element.parentElement,
                    rangeLastValue = parent.getAttribute('data-slider-value');

                if (rangeLastValue === element.value || element.value == 0) {
                    return; // No value change, no need to update then
                }

                base.form = base.plans[element.value - 1];
                parent.setAttribute('data-slider-value', element.value);
                let $thumb = parent.querySelector('.range-slider__thumb'),
                    $bar = parent.querySelector('.range-slider__bar'),

                    pct = element.value / 11 * 100;
                    $thumb.style.bottom = `calc(${pct}% - ${$thumb.clientHeight}px)`;
                    $bar.style.height = `calc(${pct}% - ${$thumb.clientHeight}px)`;
                    $thumb.textContent = `${element.value}%`;

                this.$emit('update', base.form.id);
            }
        },
    },
    created(){
    },
    mounted(){
        this.initPlanSliderJs();
    }
}
</script>

<style scoped>

</style>
